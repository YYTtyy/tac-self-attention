python runner.py --id trt4 --diagonal_positional_attention --hidden_self 1048 --pe_dim 106 --n_head 8 --num_epoch 200 --num_layers_encoder 2 --dropout 0.1


src_seq_type <class 'torch.autograd.variable.Variable'> torch.Size([64, 27])
J:\Anaconda_Python3_6\envs\cuda\lib\site-packages\torch\nn\modules\module.py:325: UserWarning: Implicit dimension choice for softmax has been deprecated. Change the call to include dim=X as an argument.
src_seq Variable containing:ut, **kwargs)

Columns 0 to 12
    2  2315  1047   811  2237  1225   220  1109   539  2315  1071  2402   410
    2  2315   789   834  1323  2315  2071  1952  1406     3     0     0     0
    2  2315  1047  1323  2315   877  1452   811   402   609  1406     3     0
    2  2315  1047  2166  1653  1078    10  2692  2666  2775   817  2237  1694
    2  2315  2213  1323  2383   811  1873  2315   432  2254     3     0     0
    2  2315  2778   410  1253  1323  2315  1948  1183  1406     3     0     0
    2  2315  1092  2237  2315  2450   811  1129   957  2207  1038  1323  2315
    2  1446   961    92  1692    29   751  2583  2315   390  1615  1709   390
    2  2315  2678  1130   811   601   128  1694   549  1406     3     0     0
    2  2315  2504  1733  2237  1694    25   410  2315  2201  2165  1675  1694
    2  2315   446   410  1253    92  2719  1573     1  1406     3     0     0
    2  2315  2178   212   811   601    92  1782  2202  2787  2326  1972  1406
    2  2315  2430    94   811   751  1323  1694  2849   793   944  1927  1323
    2  1694  1492   811   834  1323  1694  2191    92  1653  1621  1406     3
    2   478  1253  1700  2014  1694  2046   953  2315  1378  1406     3     0
    2  1653  2422  2173  1700  1873  1969  2315  2361  2670   276  1539   220
    2  1653  1728  1585  2292    10  1700  1323  2315  2013  1406     3     0
    2  2315  1047  1323  2315  2178   476  1573    53  2283   811   751  2326
    2  2315  1492  1573  2315  1047  1884  1323  2178  1700  1932  2888   264
    2  1782  2887   219  1700  1884   419  1673   957   622   394  1208  1406
    2  2315  2163   236  1076   544  2237   364  2074  1421  2315   696   793
    2  2315  1492  1323  1500     1  2356  1414  2315  2450  1406     3     0
    2  2315  2778   410  1253  1700   953  1782  1014  1406     3     0     0
    2  2315  2661    92  1694     1     1    50  1323   432   811  1964   957
    2  2315  1047  1323  2315   429  1427  1573   358   896   506  1782  1239
    2   481  1700  1253   751  1573  2779  1536  2178  1801    92  2524  1573
    2  1782   695  1047  2885  1208  2237  2315  2579  2797     3     0     0
    2  2315   389  2163   811  2237  2315  2729  1261  1863  1782  2855  1492
    2  2315  1492   751  1323  1111   410  2315   948  1412  2315   600   609
    2   451     1  1241  1782  2352  1342  2315  1566  2888  1406     3     0
    2  2315  1492  2666  1323  1111   410  2315  1815     3     0     0     0
    2  2315     1  1492  1733  1323  2315   688   834  1694  2038  1406     3
    2  2315  1492   236  1516   506  2315  2627  2326  2315   655  1372  1406
    2  1253  1685  2639  2046  1197    92    91  1914  1406     3     0     0
    2  2315   389   789  1573  1992  1283  2268   549  1918  2441   178  2046
    2  2315  2778   410  1253    92  2178   696   912  1354  1342  2315   138
    2  2315  2297   121   878  1296  2598   957  2315  1047  1884  2818  1694
    2  1253   456   274  1694    91     1  1573  2315  1492  1733  1208   953
    2  1323  1111   410  2315  2185  2489  2315  1492  1099  2871  1406     3
    2  2315  1492  1296  2237  2315  2167  2138  1969  1842  2315   699   796
    2  2315  1047  1323  2315   358  1584   896  1573  2315  1492  1323  1782
    2  2315  2178  2297  1323  2315   432  2445   106  2315   358  2297   848
    2  2315  1492  1323  2315   967   811  1203   628   474  1058   793  1653
    2  2315  2804   807  2117    58  2315  2250  1406     3     0     0     0
    2  2315  1492  1381  1323  1694  1341  1406     3     0     0     0     0
    2   898   834  1782     1  2025   410  2289     3     0     0     0     0
    2   481   811  2315     1  1108  2315  2644  1406     3     0     0     0
    2  2315  1492   236  2315   104  2781   104  2883  1406     3     0     0
    2  1547  2146   920  1869  2583   668   537  1282  1406     3     0     0
    2  1192  2860  1884  1323  2842  1190  1573   684   326     1   178   485
    2  1694  1492  2519  1247   143   485  1084   640  1406     3     0     0
    2   789  1323  2202  2465   300  1694   895  1573   811   152   224  1406
    2  2710  1492   506  1782  2429  2627   220   793  1691     1  1972  2237
    2  2315   789   236  2315   432   476  2237  2315   589  2856  1969   702
    2  2315  1492    92  2315  1987   476  1573   925  2849  2676  2237  1992
    2  2315  2806   811  1275  2237  2315   277  2639  2315   692    92   549
    2  1604  1323  2202    11   220   751   953  1694   896   410  2315  1917
    2  2566   348   106    92  1694  2558   410  2315    84   793    18  2173
    2  2315   482   974   236  2315  2781   132  1323  2315  1183  1406     3
    2  2315  1492   236  2315   358   160   811  2666  2237  2315  1302  1323
    2  1653  1621   601  1323  1694  2348     3     0     0     0     0     0
    2  2315  1492   811     1  2315   358  2844  2396   676   410     1  2379
    2  2315   668  2778   410  1253   953  2315  1060  1406     3     0     0
    2  2315   895   547   811   601    92  1694  1534  1573     1  2315   985

Columns 13 to 25
    1  1573   868  1406     3     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1537  1406     3     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1261  1406     3     0     0     0     0     0     0     0     0     0     0
 2661  1406     3     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1855  1406     3     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
 1694   715  2583  1282  1406     3     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2577  1406     3     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2315   138  2721   516    92  1723   220     1  1573   304  1406     3     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
 2426  2237  1694  1537  1406     3     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2315   436  1406     3     0     0     0     0     0     0     0     0     0
  454  1406     3     0     0     0     0     0     0     0     0     0     0
    1   510  2818  1823   197  1342   953  1766  1573   276   561  1342  1694
    0     0     0     0     0     0     0     0     0     0     0     0     0
  811     5  1957  1694  2013  1406     3     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2099  1406     3     0     0     0     0     0     0     0     0     0     0
   92   702  1253   834  2009  1323  1111   410  2315    84  1323  1694  2015
    1  1323  1093  1406     3     0     0     0     0     0     0     0     0
 2315   138    92  2315   409  1573  1901  1406     3     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
 2202   476  1927   178  1505   957  1694  2343  1406     3     0     0     0
 2379   364  2178  1085  2445  1406     3     0     0     0     0     0     0
 1980  2208  2075  1406     3     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
 1694  2038  1406     3     0     0     0     0     0     0     0     0     0
  897     3     0     0     0     0     0     0     0     0     0     0     0
  696  1406     3     0     0     0     0     0     0     0     0     0     0
 1626  1342  1406     3     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
 1624  1406     3     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1111   410  2315  2657   554  1573  2598   957     1  1406     3     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2315  1080  1406     3     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2654  1694   705  2237  1694  2148   957  1694    25  1116  1406     3     0

Columns 26 to 28
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
  786  1406     3
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
 1406     3     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
    0     0     0
[torch.cuda.LongTensor of size 64x29 (GPU 0)]

src_seq_type <class 'torch.autograd.variable.Variable'> torch.Size([64, 29])
src_seq Variable containing:

Columns 0 to 12
    2  2315   389  2778   410  1253   811  2195  1323  2315  1466   616  1406
    2  2315  1492  1323   358     1   220   471  1573  2315     1  2657   539
    2  2315  2163  1323  2315   160  1927  2237  2315  1140   793  1771  2237
    2  1694  1653   348  1700   834   742  1323  2315    77  1406     3     0
    2  1782   695  1492  1323  1198  1573  2490   380  2315     1  1460  1513
    2  2315  1492  1323  2315  2178   476   811  1316  1694   483  2598   957
    2  2315  2163    92  2315   477  1573  2315   789  2237  2315  2459  1700
    2  2315  1365  2163   593  2315   195  2450   143  1943  1406     3     0
    2  2315   219   410  1253  1685  2639  2315  2046   738  2654  2062   953
    2  1782  1693   753    92  2315   567     1  2315  1490   957  2315     1
    2  1653  1253    35  2237  2315   621  1406     3     0     0     0     0
    2  2315   424  1371   811   834  1208    58  2315     1  1323  2425    45
    2  2315  1492   236  2315   259    11  2166  1969  2315  1987   775  1406
    2  2315  1492   811   625   906    91   609  1406     3     0     0     0
    2  1653   348  1700  1701  1323  1111   410  2315   389  2778   410   348
    2  2315  2778   410   348   751  1342    92  2315  1047  1323     1  1406
    2  2204   826  2237  2315  1216  1412  1474   220  1076  1160  1406     3
    2  2315  1047    92  2684  2401  1585  1592  2166   364   454  1573  1122
    2  2315   747   789     1  1992   696  2441  2315     1     1  1406     3
    2  2315  1492   811   953  1992  1374  1742  1192  1406     3     0     0
    2  2315   212   811   601   128  2165  1537    92  2315  1047   236   432
    2  2315    91  1492   811  1810  2315  2753    92     1  1323  2701  2237
    2  1047  1323   587  1427  1685   356  2046  1406     3     0     0     0
    2  2315   358     1   212   811   601   128  1694  2348  1406     3     0
    2  2315  1492   236  2315   967   811   751  1323  2315  2778   410  1253
    2  2315   747  2163   811  2063  1323  2315  2016  1406     3     0     0
    2  2315     1   410   423   593  2639  2315  1642   410     1  2454   540
    2  2315  1047  2253   957  1858     1  2441   710  1782   775  1406     3
    2  2315  2163  1323  2178  2490  1873  1782   803  1406     3     0     0
    2   898  1878  1474  2315   526     3     0     0     0     0     0     0
    2  2315     1  2070   220  2215  1492  2166  2237   143  1782     1  1832
    2  1694  1492   811   152     1  2654  1653  1032  2173  1406     3     0
    2  2315  2163   236  2315   181   160  1436  2315  2042  1045  1323    53
    2  2315  1492  1323  2315   754   811   834  1782  1107  1323  1111   410
    2  2315     1  2306  1805  1573  1992  2450    92  1694   792   410  1694
    2  2710   410  1694  1872   300     1  1992  1195  1406     3     0     0
    2  1653  2422    10  1884  1323   358  1740    58  2315  2250  1323  1111
    2  2315  1078  1573    18  2367  1700  1714  2237  2315  2444  1406     3
    2  2315  1492   236  2315   432  1573  1076   476  2356  2315   517    88
    2  1694  1047  1323  1694  2497  1748  1573    53   896   811   236  2315
    2  1653   348  2741  2185  1323  2315   548  1570  1939  1406     3     0
    2  2315  2684  1585  2292   220  2656  1047  1701  2379  1694  2517  1969
    2  1653   423   593  1536   702   331  2652  1406     3     0     0     0
    2  2315  1492   811  1009  2315  2327   410  2315   219   751  2598   957
    2  2315  1492  1884  1323  2315   587  1585    47   220  2091  1969  1076
    2  2315  2778   410  1253   264   953  2315  1233  1406     3     0     0
    2  2315  1492  1873  1653  2530   410  1224     1  2315   271  1406     3
    2   358  2715  1323   358  2458     1  2804  1534  2237  2074   953  1140
    2  1694     1  1700   601  1323  1694     1  1406     3     0     0     0
    2  2315  1492   349  1323  2315  1076  1573  2178  1031   128  2507  1406
    2  1694   259   212   811   601  1323  1694  1855  1291  1992  1860  1406
    2  2315  1492    92     1  1697   811   751  1323  2315   752  1406     3
    2  1694   938   978   953  2315  1233  2241  1694  1880   942   220   513
    2  2315  1047   811  1648  1591   793  2315  1492  1849  2315  2250   410
    2  1653   348  2590  2639  2441  1706  1406     3     0     0     0     0
    2  2315  1492   811     1  2654  1691  1492    92  1782   803  1406     3
    2  2315  1492   236  2315   476  1573  2373   220  2467     1  2818  1467
    2  2315     1  2237  1694   657   612   702  2297  1446  2860  1009  2315
    2  2315  1047  1733  2237  2315   687   612  1694  1855  1406     3     0
    2  2315  2729   547   811   570  1694  1534   220   793  2315  1492  2593
    2  2315  2778   410   424  2543  1700  2414  2237  1694  2133   410  1691
    2  2315     1  1492  1323  2315  1503  2676  2467  2237   953  2315  1047
    2  2315   219  1685  2237  2315   204  2584  2315     1  2221  1406     3
    2  2315   259   212  1573  2315   358   212  2237  2315  2348   899  1406

Columns 13 to 25
    3     0     0     0     0     0     0     0     0     0     0     0     0
  358   476   220  2856  1323  1111   410  2315  1522  2639  1862   796  1406
  364   400  1406     3     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
 2315  1492   236  1728   512  1406     3     0     0     0     0     0     0
  751   953  2315  1378  1406     3     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
  359  1406     3     0     0     0     0     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
  236  1526  1406     3     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1323  1694  2015  1406     3     0     0     0     0     0     0     0     0
 2315  1450    91  2046  1406     3     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
  281  1406     3     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2065  1406     3     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    1   181   793   944   197  2237  1406     3     0     0     0     0     0
 2315  2870  1406     3     0     0     0     0     0     0     0     0     0
 1594  2791    58  2315     1  1958  1406     3     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
  410  2740  2447  1406     3     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2315  1403  1585  1498   410   729  1406     3     0     0     0     0     0
 2842  2781  1406     3     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2237  1815    92   364   424  1406     3     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2315  1056  1208  1406     3     0     0     0     0     0     0     0     0
  476   220  1573  2315   358  1573  2553  2729   785   811  1873  2315   657
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
  612  1855    92  1691  1492  1412   953  1972  1406     3     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 2315  1492  1323  2315   432    11  1406     3     0     0     0     0     0
  364  1323   555  1406     3     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
 1848   128  2315  2013  1406     3     0     0     0     0     0     0     0
 1343  1406     3     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
  356  1694  2343   474  1888  1406     3     0     0     0     0     0     0
 1939  1406     3     0     0     0     0     0     0     0     0     0     0
 1406     3     0     0     0     0     0     0     0     0     0     0     0
    0     0     0     0     0     0     0     0     0     0     0     0     0
    3     0     0     0     0     0     0     0     0     0     0     0     0

Columns 26 to 30
    0     0     0     0     0
    3     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
  957  1992  2585  1406     3
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
    0     0     0     0     0
[torch.cuda.LongTensor of size 64x31 (GPU 0)]






# output after masking
(61,.,.) =
   0   0   0  ...    1   1   1
   0   0   0  ...    1   1   1
   0   0   0  ...    1   1   1
     ...       ⋱       ...
   0   0   0  ...    1   1   1
   0   0   0  ...    1   1   1
   0   0   0  ...    1   1   1

(62,.,.) =
   0   0   0  ...    1   1   1
   0   0   0  ...    1   1   1
   0   0   0  ...    1   1   1
     ...       ⋱       ...
   0   0   0  ...    1   1   1
   0   0   0  ...    1   1   1
   0   0   0  ...    1   1   1

(63,.,.) =
   0   0   0  ...    0   0   1
   0   0   0  ...    0   0   1
   0   0   0  ...    0   0   1
     ...       ⋱       ...
   0   0   0  ...    0   0   1
   0   0   0  ...    0   0   1
   0   0   0  ...    0   0   1
[torch.cuda.ByteTensor of size 64x27x27 (GPU 0)]
